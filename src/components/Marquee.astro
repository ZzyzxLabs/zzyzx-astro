---
interface Props {
    direction?: "left" | "right";
    speed?: number;
}

const { direction = "left", speed = 30 } = Astro.props;

const keywords = [
    "Innovation",
    "Web3",
    "AI Agents",
    "Smart Contracts",
    "DeFi",
    "Security",
    "Scalability",
    "Automation",
    "Infrastructure",
    "Collaboration",
    "Blockchain",
    "Full-Stack",
];
---

<div
    class="marquee-container overflow-hidden py-6 border-y border-white/5 select-none"
>
    <div
        class:list={[
            "marquee-track flex gap-8 whitespace-nowrap",
            direction === "right" ? "marquee-reverse" : "marquee-forward",
        ]}
        style={`--marquee-speed: ${speed}s`}
    >
        {/* Duplicate 4 times for seamless loop */}
        {
            [...Array(4)].map(() => (
                <div class="flex gap-8 shrink-0">
                    {keywords.map((word) => (
                        <span class="marquee-word text-lg md:text-xl font-heading font-semibold text-white/15 uppercase tracking-[0.15em] flex items-center gap-8">
                            {word}
                            <span class="text-primary/20 text-xs">âœ¦</span>
                        </span>
                    ))}
                </div>
            ))
        }
    </div>
</div>

<style>
    .marquee-container {
        mask-image: linear-gradient(
            to right,
            transparent,
            black 5%,
            black 95%,
            transparent
        );
    }

    .marquee-forward {
        animation: marquee-scroll var(--marquee-speed) linear infinite;
    }
    .marquee-reverse {
        animation: marquee-scroll-reverse var(--marquee-speed) linear infinite;
    }

    @keyframes marquee-scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-25%);
        }
    }
    @keyframes marquee-scroll-reverse {
        0% {
            transform: translateX(-25%);
        }
        100% {
            transform: translateX(0);
        }
    }

    .marquee-word {
        transition: color 0.3s;
    }
    .marquee-container:hover .marquee-word {
        color: rgba(255, 255, 255, 0.3);
    }
</style>
